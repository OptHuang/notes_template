\documentclass[12pt,a4paper,draft]{article}  % Use this line if this document is a draft
%\documentclass[12pt,a4paper]{article}  % Use this line if this document will be released
\usepackage{ifdraft}

\newcommand{\bibfile}{ncpds.bib}
\newcommand{\universalbib}{ref.bib}
\ifdraft{\IfFileExists{\universalbib}{\renewcommand{\bibfile}{\universalbib}}{}}{}

% Geometry
%\voffset=-1.5cm \hoffset=-1.4cm \textwidth=16cm \textheight=22.0cm  % Luis' setting
\usepackage[a4paper, textwidth=16.0cm, textheight=22.0cm]{geometry}


% Basic packages 
\usepackage{amsmath,amsthm,amssymb,amsfonts}
\usepackage{empheq}
\usepackage{lscape}
\usepackage{longtable}
\usepackage{color}
\usepackage[bbgreekl]{mathbbol}
\DeclareSymbolFontAlphabet{\mathbbm}{bbold}
\DeclareSymbolFontAlphabet{\mathbb}{AMSb}
\usepackage{bbm}
\usepackage{rotating}
\usepackage{multirow,booktabs}
\usepackage{upgreek}
\usepackage{accents}
\usepackage{xspace}
\usepackage[en-US]{datetime2}


% Graph, tikz and pgf
%\usepackage{subfigure}
\setlength{\unitlength}{1mm}  %The \unitlength command is a Length command. It defines the units used in the Picture Environment.
\usepackage{graphicx}
\usepackage{tikz,tikzscale,pgf,pgfarrows,pgfnodes,filecontents,tikz-cd,}
\usetikzlibrary{arrows,arrows.meta,patterns,positioning,decorations.markings,shapes}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage[justification=centering]{caption}
\usepgfplotslibrary{fillbetween}
\pgfplotsset{compat=1.11}


\usepackage[normalem]{ulem}
\usepackage[toc,page]{appendix}
\renewcommand{\appendixpagename}{\Large{Appendix}}
\renewcommand{\appendixname}{Appendix}
\renewcommand{\appendixtocname}{Appendix}
%\usepackage{sectsty}
\setcounter{tocdepth}{2}
\numberwithin{equation}{section}


% Turn off some unharmful warnings
\usepackage{silence}
\WarningFilter{latex}{Writing or overwriting file} % Mute the warning about 'writing/overwriting file'
\WarningFilter{latex}{Writing file} % Mute the warning about 'writing/overwriting file'
\WarningFilter{latex}{Tab has} % Mute the warning about 'Tab has been converted to Blank Space'


% Enumerate and itemize
\usepackage{eqlist}
\usepackage{enumitem}
\setlist[itemize]{leftmargin=*}
\setlist[enumerate]{leftmargin=*}


% Hyperref
\definecolor{darkblue}{rgb}{0,0.1,0.5}
\definecolor{darkgreen}{rgb}{0,0.5,0.1}
\usepackage{hyperref}
\hypersetup{ colorlinks,%
linkcolor=darkblue,%
anchorcolor=darkblue,
citecolor=darkblue,%
urlcolor=darkblue}
\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
\ifdraft{\usepackage{refcheck}}{} % Check unused labels
\usepackage{url}


% Algorithm environment
\usepackage[section]{algorithm}
\usepackage{algpseudocode,algorithmicx}
\newcommand{\INPUT}{\textbf{Input}}
\newcommand{\FOR}{\textbf{For}~}
\algrenewcommand\algorithmicrequire{\textbf{Input:}}
\algrenewcommand\algorithmicensure{\textbf{Output:}}
\algrenewcommand\alglinenumber[1]{\normalsize #1.}
\newcommand*\Let[2]{\State #1 $=$ #2}

% Theorem-like environments 
\newtheorem{theorem}{Theorem}[section]
\newtheorem{conjecture}{Conjecture}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{exercise}{Exercise}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{problem}{Problem}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{assumption}{Assumption}[section]
\newtheorem{example}{Example}[section]
\newtheorem{question}{Question}[section]
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{remark}{Remark}[section]
% proof
\usepackage{xpatch}
\xpatchcmd{\proof}{\itshape}{\normalfont\proofnamefont}{}{}
\newcommand{\proofnamefont}{\bfseries}


% Fine tuning
\usepackage{microtype}
\usepackage[nobottomtitles*]{titlesec} % No section title at the bottom of pages
% Prevent footnote from running to the next page
\interfootnotelinepenalty=10000
% No line break in inline math
\interdisplaylinepenalty=10000
\relpenalty=10000
\binoppenalty=10000
% No widow or orphan lines
\clubpenalty = 10000
\widowpenalty = 10000
\displaywidowpenalty = 10000


% Operators, commands
\usepackage{relsize}
\usepackage{nccmath}
\DeclareMathOperator*{\mcap}{\medmath{\bigcap}}
\DeclareMathOperator*{\mcup}{\medmath{\bigcup}}
%\renewcommand{\cap}{\mathsmaller{\bigcap}}
%\renewcommand{\cap}{\mcap}

\def\RR{\mathbb{R}}
\def\BB{\mathcal{B}}
\def\SS{\mathbb{S}}
\def\ZZ{\mathbb{Z}}
\def\NN{\mathbb{N}}
\def\FF{\mathbb{F}}
\def\CC{\mathbb{C}}
\newcommand{\sss}[1]{{\scriptscriptstyle{#1}}}
\newcommand{\sups}[1]{{#1}}
\newcommand{\sK}{{\scriptscriptstyle{K}}}
\newcommand{\sT}{{\scriptscriptstyle{T}}}
\DeclareMathOperator{\tr}{tr}
\newcommand{\fro}{{\scriptscriptstyle{\textnormal{F}}}}
\newcommand{\trs}{{\scriptscriptstyle{\mathsf{T}}}}
\newcommand{\hmt}{{\scriptscriptstyle{{\mathsf{H}}}}}
\newcommand{\pin}{{\scriptscriptstyle{{\mathsf{+}}}}}
\newcommand{\inv}{{-1}}
\newcommand{\adj}{*}

\DeclareMathOperator{\sort}{sort}
\DeclareMathOperator*{\Argmax}{Argmax}
\DeclareMathOperator*{\Argmin}{Argmin}
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator{\Span}{span}
\DeclareMathOperator{\med}{med}
\DeclareMathOperator{\essinf}{essinf}
\newcommand{\rank}{\mathrm{rank}}
\newcommand{\range}{\mathrm{range}}
\newcommand{\ind}[2]{\operatorname{\mathbbm{1}}\;\!\!\!\big(#2\in#1\big)}
\newcommand{\diag}{\operatorname*{diag}}
\newcommand{\Diag}{\operatorname*{Diag}}
\newcommand{\im}{\operatorname{im}}
\newcommand{\diam}{\operatorname{diam}}
\newcommand{\dist}{\operatorname{dist}}
\newcommand{\disth}{{\operatorname{\updelta_{\sss{H}}}}}
\newcommand{\Pred}{\mathrm{Pred}}
\newcommand{\cs}{\text{c}}
\newcommand{\hp}{\circ}
\newcommand{\card}{{\rm card}}
\newcommand{\fr}{\operatorname{fr}}
\newcommand{\sg}[1]{\bf { #1 }}
\newcommand{\ceil}[1]{ {\lceil{#1}\rceil} }
\newcommand{\floor}[1]{ {\lfloor{#1}\rfloor} }
%\renewcommand{\emph}{\textbf}
%\newcommand{\ones}{\mathbbm{1}}
\newcommand{\ones}{1}
\newcommand{\cc}{\sss{\textnormal{C}}}
\newcommand{\dec}{\sss{\textnormal{D}}}
\newcommand{\cauchy}{\sss{\textnormal{C}}}
\newcommand{\scauchy}{\sss{\textnormal{S}}}
\newcommand{\etc}{{etc.}}
\newcommand{\ie}{{i.e.}}
\newcommand{\eg}{{e.g.}}
\newcommand{\etal}{{et al.}}
%\newcommand*{\defeq}{\stackrel{\mbox{\normalfont\tiny{\textnormal{def}}}}{=}}
\newcommand\defeq{\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny\sffamily def}}}{=}}}
\newcommand{\crit}{\textnormal{crit}}
\newcommand{\rsg}{\hat{\partial}}
\newcommand{\gsg}{\partial}
\newcommand{\dom}{\textnormal{dom}}
\newcommand{\tf}{{\textnormal{f}}}
\newcommand{\tg}{{\textnormal{g}}}
\newcommand{\ts}{{\textnormal{s}}}
\newcommand{\st}{\textnormal{s.t.}}
\newcommand{\me}{\mathrm{e}}
\newcommand{\md}{\mathrm{d}}
\newcommand{\mi}{\mathrm{i}}
\newcommand{\lev}{\mathrm{lev}}
\newcommand{\bA}{\mathbf{A}}
\newcommand{\bx}{\mathbf{u}}
%\newcommand{\bb}{\mathbf{f}}
\newcommand{\bb}{\mathbf{r}}
\newcommand{\nov}{n_{\textnormal{o}}}
\newcommand{\MATLAB}{\textsc{Matlab}\xspace}
\newcommand{\rpss}{{SS}}
\newcommand{\rdfs}{{DF}}
\newcommand{\pfs}{{FS}}
\newcommand{\cg}{{CG}}
\newcommand{\hem}{{HEM}}
\newcommand{\prblm}{\texttt}
\DeclareMathAlphabet{\mathsfit}{T1}{\sfdefault}{\mddefault}{\sldefault}
\SetMathAlphabet{\mathsfit}{bold}{T1}{\sfdefault}{\bfdefault}{\sldefault}
\newcommand{\prbb}{\mathsfit{p}}
\newcommand{\pp}{\mathsf{p}}
\newcommand{\qq}{\mathsf{q}}
\newcommand{\ttt}{\mathsfit{t}}
\newcommand{\tol}{\varepsilon}
\newcommand{\bt}{\mathbf{t}}
\newcommand{\br}{\mathbf{r}}
\newcommand{\dd}{\mathbf{d}}
\newcommand{\ii}{\mathbf{i}}
\newcommand{\jj}{\mathbf{j}}
\newcommand{\xx}{\mathbf{x}}
\renewcommand{\pp}{\mathbf{p}}
\renewcommand{\ggg}{\mathbf{g}}
\newcommand{\GG}{\mathbf{G}}
\renewcommand{\Pr}{\mathbb{P}}
\newcommand{\iid}{\text{i.i.d.}}
\newcommand{\integer}{\textrm{I}}
\newcommand{\octave}{\mbox{GNU Octave}\xspace}
\newcommand{\gradp}{\nabla_{\!\sss{P_k}}}
\newcommand{\lims}{\mathcal{L}}

\usepackage{etoolbox}
\newcommand{\psum}[1][]{S\ifblank{#1}{}{_{#1}}}

% mathlcal font
\DeclareFontFamily{U}{dutchcal}{\skewchar\font=45 }
\DeclareFontShape{U}{dutchcal}{m}{n}{<-> s*[1.0] dutchcal-r}{}
\DeclareFontShape{U}{dutchcal}{b}{n}{<-> s*[1.0] dutchcal-b}{}
\DeclareMathAlphabet{\mathlcal}{U}{dutchcal}{m}{n}
\SetMathAlphabet{\mathlcal}{bold}{U}{dutchcal}{b}{n}

% mathscr font (supporting lowercase letters)
%\usepackage[scr=dutchcal]{mathalfa}
%\usepackage[scr=esstix]{mathalfa}
%\usepackage[scr=boondox]{mathalfa}
%\usepackage[scr=boondoxo]{mathalfa}
\usepackage[scr=boondoxupr]{mathalfa}
%\newcommand{\model}{\mathscr{h}}
\newcommand{\model}{\tilde{f}}
\newcommand{\rmod}{F}

\DeclareMathOperator{\cl}{cl}
\DeclareMathOperator{\vol}{vol}
\newcommand{\Set}[1]{\mathcal{#1}}
\DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it} % The mathpzc font
\newcommand{\slv}{\mathpzc} 
% mathpzc looks great, but it stops working on 19 Feb 2020 for no reason. 
%\newcommand{\slv}{\mathscr}
\newcommand{\software}{\texttt}
\DeclareMathOperator{\eff}{\mathsf{e}\;\!}
\DeclareMathOperator{\Eff}{\mathsf{E}\;\!}
\newcommand{\out}{{\text{out}}}

\DeclareMathOperator{\comp}{C}
\DeclareMathOperator{\sign}{sign}


% Commands for revision
\newcommand{\REPHRASE}[1]{{\color{blue}{#1}}}
\newcommand{\TYPO}[1]{{\color{orange}{#1}}}
\newcommand{\MISTAKE}[1]{{\color{violet}{#1}}}
\newcommand{\REVISION}[1]{{\color{blue}{#1}}}
\newcommand{\REVISIONred}[1]{{\color{red}{#1}}}
%\newcommand{\COMMENT}[1]{\textcolor{darkgreen}{(#1)}}
%\newcommand{\REVISION}[1]{#1}
%\newcommand{\REVISIONred}[1]{#1}

% To-do notes in draft mode
% Available commands:
% - \fxnote[options]{<note>}
% - \fxwarning[options]{<note>}
% - \fxerror[options]{<note>}
% - \fxfatal[options]{<note>}
% Available targeted commands:
% - \fxnote*[options]{<note>}{<text>}
% - \fxwarning*[options]{<note>}{<text>}
% - \fxerror*[options]{<note>}{<text>}
% - \fxfatal*[options]{<note>}{<text>}
\RequirePackage[author={}]{fixme}
\fxsetup{marginface=\scriptsize\sffamily\color{gray}}

% Add line numbers in draft mode
\RequirePackage[mathlines]{lineno}
\ifdraft{\linenumbers}{}
\renewcommand{\linenumberfont}{\normalfont\scriptsize\sffamily\color{gray}}
\setlength{\linenumbersep}{\marginparsep}
  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title{A Simple~\LaTeX~Template}
\date{\DTMnow}
\author{
Cunxin Huang
\thanks{
Department of Applied Mathematics, The Hong Kong Polytechnic University, 
Hong Kong, China ({\tt huangcunxin@outlook.com}).
}
}


\begin{document}

\maketitle

\begin{abstract}
  This is an example.
\end{abstract}

\textbf{Keywords}: Keyword1, Keyword2, Keyword3, Keyword4, Keyword5 


\section{Example section~1}
\label{sec:example1}

\begin{definition}
  \label{def:example}
  This is an example definition.
\end{definition}

\begin{theorem}
  \label{th:example}
  This is an example theorem.
\end{theorem}

\begin{proof}
  This is the proof for Theorem~\ref{th:example}. 

  Recall Definition~\ref{def:example}.

  The proof is complete.  
\end{proof}

\begin{proposition}
  \label{prop:example}
  This is an example proposition.
\end{proposition}

\begin{proof}
According to \cite[Theorem~3.14]{Jordan_1874}, we have
\begin{equation}
  \label{eq:euler}
  \me^{\mi \pi} + 1 \;=\; 0.
\end{equation}
This completes the proof. 
\end{proof}

\begin{corollary}
  \label{coro:example}
  This is an example corollary. 
\end{corollary}

\begin{proof}
Due to equation~\eqref{eq:euler}, 
\begin{equation*}
  \me^{\mi \pi} \;=\; -1,
\end{equation*}
which finishes the proof.
\end{proof}


\section{Example section~2}
\label{sec:example2}

To continue the discussion in Section~\ref{sec:example1}, we first recall Algorithm~6.18 in~\cite{Trefethen_Bau_1997}.

\begin{algorithm}[htbp!]
  \caption{\label{alg:example}An example algorithm}
Input $x_0\in \RR^n$, $\rho_0>0$, $\eta_1 \ge 1> \eta_2>0$. For $k = 0, 1, 2, \dots$, do the following.
\begin{algorithmic}[1]
  \State Choose a set of nonzero vectors~$D_k\subset \RR^{n}$ (deterministically or stochastically). 
  \State Check whether there exists a~$y_k \in\left\{ x_k +\rho_k d\mathrel{:} d\in D_k \right\}$ such
  that~$f(y_k) < f(x_k)$. 
  \State If~$y_k$ exists, set~$x_{k+1} = y_k$, $\rho_{k+1} = \eta_1 \rho_k$; 
  otherwise, set~$x_{k+1} = x_k$, $\rho_{k+1} = \eta_2 \rho_k$.
  \State If a certain stopping criterion is met, exit and output~$x_{k+1}$.
\end{algorithmic}
\end{algorithm}


% References
\small
\bibliography{\bibfile}
\bibliographystyle{plain}
% End
\end{document}
